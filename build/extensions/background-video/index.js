(()=>{"use strict";const e=window.wp.hooks,o=((0,e.addFilter)("blocks.registerBlockType","zolo/extension/backgroundVideo",(e=>(!e.category||"zoloblocks"!=e.category||"zolo/container"!==e.name&&"zolo/slide"!==e.name||(e.attributes={...e.attributes,backgroundVideo:{type:"object"}}),e))),window.wp.blockEditor),l=window.wp.i18n,a=window.wp.components,d=window.ReactJSXRuntime,{ImageAvatar:t}=window.zoloModule,i=({panelProps:e})=>{const{attributes:i,setAttributes:n}=e,{backgroundVideo:r={}}=i,{id:s="",url:c="",falbackImageID:u="",falbackImageURL:g=""}=r;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.BaseControl,{label:(0,l.__)("Select Video","zoloblocks"),className:"zolo-flex-col-control",children:s?(0,d.jsx)(t,{imageUrl:r&&r.url,onDeleteImage:()=>n({backgroundVideo:{...r,id:"",url:""}}),allowedTypes:["video"],imageId:r&&r.id,onEditImage:e=>{n({backgroundVideo:{...r,id:e.id,url:e.url}})}}):(0,d.jsx)(o.MediaUpload,{onSelect:e=>{e&&e.url&&e.id&&n({backgroundVideo:{...r,id:e.id,url:e.url}})},allowedTypes:["video"],value:s,render:({open:e})=>(0,d.jsxs)(a.Button,{className:"zolo-image-upload-btn",onClick:e,children:[(0,d.jsx)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",children:(0,d.jsx)("path",{d:"M11.492 10.172l-2.5 3.064-.737-.677 3.737-4.559 3.753 4.585-.753.665-2.5-3.076v7.826h-1v-7.828zm7.008 9.828h-13c-2.481 0-4.5-2.018-4.5-4.5 0-2.178 1.555-4.038 3.698-4.424l.779-.14.043-.789c.185-3.448 3.031-6.147 6.48-6.147 3.449 0 6.295 2.699 6.478 6.147l.044.789.78.14c2.142.386 3.698 2.246 3.698 4.424 0 2.482-2.019 4.5-4.5 4.5m.978-9.908c-.212-3.951-3.472-7.092-7.478-7.092s-7.267 3.141-7.479 7.092c-2.57.463-4.521 2.706-4.521 5.408 0 3.037 2.463 5.5 5.5 5.5h13c3.037 0 5.5-2.463 5.5-5.5 0-2.702-1.951-4.945-4.522-5.408"})}),(0,l.__)(" Upload Video","zoloblocks")]})})}),(0,d.jsx)(a.BaseControl,{label:(0,l.__)("Poster (optional)","zoloblocks"),className:"zolo-flex-col-control",children:g?(0,d.jsx)(t,{imageUrl:g,imageId:u,onDeleteImage:()=>n({backgroundVideo:{...r,falbackImageURL:"",falbackImageID:""}}),onEditImage:({id:e,url:o})=>{n({backgroundVideo:{...r,falbackImageURL:o,falbackImageID:e}})}}):(0,d.jsx)(o.MediaUpload,{onSelect:e=>{e&&e.url&&e.id&&n({backgroundVideo:{...r,falbackImageURL:e.url,falbackImageID:e.id}})},allowedTypes:["image"],value:u,render:({open:e})=>(0,d.jsxs)(a.Button,{className:"zolo-image-upload-btn",onClick:e,children:[(0,d.jsx)("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",children:(0,d.jsx)("path",{d:"M11.492 10.172l-2.5 3.064-.737-.677 3.737-4.559 3.753 4.585-.753.665-2.5-3.076v7.826h-1v-7.828zm7.008 9.828h-13c-2.481 0-4.5-2.018-4.5-4.5 0-2.178 1.555-4.038 3.698-4.424l.779-.14.043-.789c.185-3.448 3.031-6.147 6.48-6.147 3.449 0 6.295 2.699 6.478 6.147l.044.789.78.14c2.142.386 3.698 2.246 3.698 4.424 0 2.482-2.019 4.5-4.5 4.5m.978-9.908c-.212-3.951-3.472-7.092-7.478-7.092s-7.267 3.141-7.479 7.092c-2.57.463-4.521 2.706-4.521 5.408 0 3.037 2.463 5.5 5.5 5.5h13c3.037 0 5.5-2.463 5.5-5.5 0-2.702-1.951-4.945-4.522-5.408"})}),(0,l.__)(" Upload Image","zoloblocks")]})})})]})};function n({panelProps:e}){const{attributes:o}=e,{backgroundVideo:l,uniqueId:a}=o;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:`zolo-bgv-container zolo-bgv-${a}`,style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden"},children:(0,d.jsx)("video",{className:"zolo-bgv-hosted zolo-html5-video",loop:!0,muted:!0,playsInline:!0,preload:"none",autoPlay:!0,poster:l?.falbackImageURL||"",src:l?.url||""})})})}const{generateResRangeStyle:r,generateBackgroundControlStyles:s}=window.zoloModule;(0,e.addFilter)("zolo.extensions.controls.backgroundVideo","zolo/background-video",((e,o)=>(!o.attributes||"video"!==o.attributes?.advBtnBgbackgroundType&&"video"!==o.attributes?.mainBgbackgroundType||e.push((0,d.jsx)(i,{panelProps:o},`controls-background-video-${o.attributes.uniqueId}`)),e))),(0,e.addFilter)("zolo.blocks.render.hook.before","zolo/background-video",((e,o)=>(!o.attributes.backgroundVideo||"video"!==o.attributes?.advBtnBgbackgroundType&&"video"!==o.attributes?.mainBgbackgroundType||e.push((0,d.jsx)(n,{panelProps:o},`render-background-video-${o.attributes.uniqueId}`)),e)))})();