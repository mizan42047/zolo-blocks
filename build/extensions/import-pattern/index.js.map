{"version":3,"file":"extensions/import-pattern/index.js","mappings":"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","sources":["webpack://zoloblocks/./src/extensions/import-pattern/import.scss?1bcf","webpack://zoloblocks/external window \"ReactJSXRuntime\"","webpack://zoloblocks/external window [\"wp\",\"components\"]","webpack://zoloblocks/external window [\"wp\",\"data\"]","webpack://zoloblocks/external window [\"wp\",\"editPost\"]","webpack://zoloblocks/external window [\"wp\",\"element\"]","webpack://zoloblocks/external window [\"wp\",\"i18n\"]","webpack://zoloblocks/external window [\"wp\",\"plugins\"]","webpack://zoloblocks/webpack/bootstrap","webpack://zoloblocks/webpack/runtime/compat get default export","webpack://zoloblocks/webpack/runtime/define property getters","webpack://zoloblocks/webpack/runtime/hasOwnProperty shorthand","webpack://zoloblocks/webpack/runtime/make namespace object","webpack://zoloblocks/./src/extensions/import-pattern/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { PluginBlockSettingsMenuItem } from '@wordpress/edit-post';\nimport { registerPlugin } from '@wordpress/plugins';\nimport { select, dispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { Notice, Modal, FormFileUpload } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\n\n// import style\nimport './import.scss';\n\nconst ZoloExportBlock = ({ clientId }) => {\n    const [importPanel, setImportPanel] = useState(false);\n    const [patternContent, setPatternContent] = useState('');\n    const [patternName, setPatternName] = useState(null);\n\n    // handle file upload\n    const handleFileUpload = (files) => {\n        // check if the file is not empty\n        if (files.length === 0) {\n            return;\n        }\n\n        const file = files[0];\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            setPatternContent(e.target.result);\n            // get file name\n            setPatternName(file.name);\n        };\n        reader.readAsText(file);\n    };\n\n    return (\n        <>\n            <PluginBlockSettingsMenuItem\n                icon={\n                    <svg width={24} height={24} viewBox=\"0 0 24 24\" fill=\"none\">\n                        <path\n                            fillRule=\"evenodd\"\n                            clipRule=\"evenodd\"\n                            d=\"M20.76 4.96997L19.6001 6.12988C19.77 6.32007 19.98 6.62988 19.98 6.90991C19.98 7.04321 19.9587 7.16846 19.9189 7.28491C19.8604 7.45654 19.7612 7.60889 19.6301 7.73999C19.4199 7.94995 19.1499 8.06006 18.8401 8.06006H16.3101L21.45 3H19.0701L14.77 7.28003V10.04H16.4099L18.8301 10.03C19.6799 10.03 20.3901 9.77002 20.97 9.23999C21.54 8.71997 21.8301 7.86011 21.8301 7.04004C21.8301 6.17993 21.3999 5.44995 20.75 4.95996L20.76 4.96997ZM6.27002 13.29C6.54004 12.9802 7.02002 12.9502 7.33008 13.2202H7.31006L9.59009 15.2002V4.12012C9.59009 3.71021 9.92993 3.37012 10.3401 3.37012C10.75 3.37012 11.0901 3.71021 11.0901 4.12012V15.2002L13.3701 13.2202C13.6799 12.9402 14.1602 12.9802 14.4299 13.29C14.71 13.6001 14.6702 14.0801 14.3601 14.3501L10.8401 17.4102C10.8203 17.425 10.8005 17.4373 10.7808 17.4482L10.7478 17.4661L10.72 17.4802C10.7153 17.4849 10.7107 17.4873 10.707 17.4888C10.7029 17.4902 10.7 17.4902 10.7 17.4902C10.6799 17.5 10.6602 17.53 10.6401 17.53H10.6201C10.54 17.5701 10.4399 17.5901 10.3501 17.5901C10.26 17.5901 10.1702 17.5701 10.0801 17.53H10.0601C10.0559 17.5281 10.0518 17.5256 10.0476 17.5229L10.03 17.5103L10.0161 17.5002C10.0107 17.4963 10.0054 17.4929 10 17.4902C9.99561 17.4858 9.99121 17.4834 9.98755 17.4819C9.98315 17.4802 9.97998 17.4802 9.97998 17.4802C9.93994 17.4602 9.86011 17.4102 9.86011 17.4102L6.34009 14.3501C6.03003 14.0801 6 13.6001 6.27002 13.29ZM16.8 20.0999C17.03 20.0999 17.21 19.9099 17.21 19.6899V12.01H18.71V19.6899C18.71 20.74 17.8501 21.5999 16.8 21.5999H3.90991C2.86011 21.5999 2 20.74 2 19.6899V11.5498C2 10.5 2.86011 9.63989 3.90991 9.63989H6.84009C7.25 9.63989 7.59009 9.97998 7.59009 10.3899C7.59009 10.7998 7.25 11.1399 6.84009 11.1399H3.90991C3.83569 11.1399 3.7666 11.1597 3.70703 11.1938C3.58252 11.2656 3.5 11.4009 3.5 11.5498V19.6899C3.5 19.9199 3.68994 20.0999 3.90991 20.0999H16.8ZM14.78 5.92993V3H17.72L14.78 5.92993Z\"\n                            fill=\"#2667FF\"\n                        />\n                    </svg>\n                }\n                label={__('Import Pattern', 'zoloblocks')}\n                onClick={() => setImportPanel(true)}\n            />\n            {importPanel && (\n                <Modal\n                    className=\"zolo-import-block-modal\"\n                    title={__('Import Pattern', 'zoloblocks')}\n                    onRequestClose={() => setImportPanel(false)}\n                >\n                    <div className=\"zolo-export-block-modal__content\">\n                        <FormFileUpload accept=\".json\" onChange={(e) => handleFileUpload(e.currentTarget.files)}>\n                            {patternName ? (\n                                patternName\n                            ) : (\n                                <>\n                                    {__('Upload Pattern', 'zoloblocks')}\n                                    <svg\n                                        viewBox=\"0 0 24 24\"\n                                        width={24}\n                                        height={24}\n                                        color={'#000000'}\n                                        style={{\n                                            fill: 'none',\n                                        }}\n                                    >\n                                        <path\n                                            d=\"M17.4776 9.01106C17.485 9.01102 17.4925 9.01101 17.5 9.01101C19.9853 9.01101 22 11.0294 22 13.5193C22 15.8398 20.25 17.7508 18 18M17.4776 9.01106C17.4924 8.84606 17.5 8.67896 17.5 8.51009C17.5 5.46695 15.0376 3 12 3C9.12324 3 6.76233 5.21267 6.52042 8.03192M17.4776 9.01106C17.3753 10.1476 16.9286 11.1846 16.2428 12.0165M6.52042 8.03192C3.98398 8.27373 2 10.4139 2 13.0183C2 15.4417 3.71776 17.4632 6 17.9273M6.52042 8.03192C6.67826 8.01687 6.83823 8.00917 7 8.00917C8.12582 8.00917 9.16474 8.38194 10.0005 9.01101\"\n                                            stroke=\"currentColor\"\n                                            strokeWidth=\"1.5\"\n                                            strokeLinecap=\"round\"\n                                            strokeLinejoin=\"round\"\n                                        />\n                                        <path\n                                            d=\"M12 13L12 21M12 13C11.2998 13 9.99153 14.9943 9.5 15.5M12 13C12.7002 13 14.0085 14.9943 14.5 15.5\"\n                                            stroke=\"currentColor\"\n                                            strokeWidth=\"1.5\"\n                                            strokeLinecap=\"round\"\n                                            strokeLinejoin=\"round\"\n                                        />\n                                    </svg>\n                                </>\n                            )}\n                        </FormFileUpload>\n\n                        <button\n                            className=\"zolo-export-pattern-btn\"\n                            onClick={() => {\n                                // check if patternContent is not empty\n                                if (!patternContent || patternContent === undefined || patternContent === null || patternContent === '') {\n                                    alert('Please select a file to import.');\n                                    return;\n                                }\n\n                                // import block content\n                                const blockContent = JSON.parse(patternContent);\n                                const blocks = wp.blocks.parse(blockContent.content);\n\n                                // insert block\n                                dispatch('core/block-editor').replaceBlocks(clientId, blocks);\n\n                                // show notice\n                                const { createSuccessNotice } = dispatch('core/notices');\n                                createSuccessNotice(__('Great! The pattern is imported successfully.', 'zoloblocks'), {\n                                    type: 'default',\n                                });\n\n                                // close the modal\n                                setImportPanel(false);\n                            }}\n                        >\n                            {__('Import Pattern', 'zoloblocks')}\n                        </button>\n                    </div>\n                </Modal>\n            )}\n        </>\n    );\n};\nregisterPlugin('zolo-import-block', {\n    render: () => {\n        const selectedBlock = select('core/block-editor').getSelectedBlock();\n        const selectedBlockClientId = selectedBlock?.clientId;\n        return <ZoloExportBlock clientId={selectedBlockClientId} />;\n    },\n});\n"],"names":["PluginBlockSettingsMenuItem","registerPlugin","select","dispatch","__","Notice","Modal","FormFileUpload","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ZoloExportBlock","clientId","importPanel","setImportPanel","patternContent","setPatternContent","patternName","setPatternName","handleFileUpload","files","length","file","reader","FileReader","onload","e","target","result","name","readAsText","children","icon","width","height","viewBox","fill","fillRule","clipRule","d","label","onClick","className","title","onRequestClose","accept","onChange","currentTarget","color","style","stroke","strokeWidth","strokeLinecap","strokeLinejoin","undefined","alert","blockContent","JSON","parse","blocks","wp","content","replaceBlocks","createSuccessNotice","type","render","selectedBlock","getSelectedBlock","selectedBlockClientId"],"sourceRoot":""}