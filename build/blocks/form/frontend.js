document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".zolo-contact-form");e.length>0&&e.forEach((e=>{if("true"==e.dataset.recaptcha)return;const t=(e,o=10)=>{e.querySelector(".zolo-form-date-picker")||0===o?function(e){const t=e.dataset.formId;let o=e.parentNode.querySelector(".zolo-form-msg"),s=e.parentNode.querySelector(".zolo-msg-desc");const n=e.parentNode.querySelector(".zolo-msg-close");let r=new Pristine(e);const a=e.querySelectorAll("input.invalid-number, input.invalid-country");a.length>0&&a.forEach((e=>{const t=e.getAttribute("data-pristine-required-message")||"This field is required.";r.addValidator(e,(function(t){return!e.classList.contains("invalid-number")&&""!==t.trim()}),t)})),e.addEventListener("submit",(function(a){if(a.preventDefault(),r.validate()){const r=[...new FormData(e).entries()];r.push(["formId",t]),r.push(["nonce",zoloSettings.zolo_nonce]);const a=r.reduce(((e,[t,o])=>(e[t]="file"===t?o.name:o,e)),{}),i=JSON.stringify(a),c=new XMLHttpRequest;c.open("POST",zoloSettings.ajaxurl,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE)if(200===c.status){const t=JSON.parse(c.responseText),{validationStatus:r,validationMessage:a,successStatus:i,successMessage:l,failStatus:d,failMessage:u,nonceValidationFail:f}=t;(r||f)&&(s.innerHTML=a,o.classList.add("zolo-form-error-msg","show")),i&&(s.innerHTML=l,o.classList.add("zolo-form-success-msg","show")),d&&(s.innerHTML=u,o.classList.add("zolo-form-error-msg","show")),e.reset(),setTimeout((()=>{s.innerHTML="",o.classList.remove("validation-error","success","fail","show")}),5e3),n.addEventListener("click",(function(){s.innerHTML="",o.classList.remove("validation-error","success","fail","show")}))}else console.error("Error:",c.statusText)},c.send("action=send_form_data&formData="+encodeURIComponent(i))}}))}(e):setTimeout((()=>{t(e,o-1)}),10)};t(e)}))}));