document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".wp-block-zolo-lottie-image").forEach((e=>{const t=JSON.parse(e.dataset?.settings||"{}"),o=e.querySelector("lottie-player"),i="-1"===o?.getAttribute("direction"),n=()=>{if(o?._lottie){const{totalFrames:e,goToAndStop:t}=o._lottie;window.addEventListener("scroll",(()=>{const{top:n,bottom:r}=o.getBoundingClientRect(),l=window.innerHeight;if(n<l&&r>0){const c=Math.min(Math.max((window.scrollY+l-n)/(r-n+l),0),1);let s=Math.round(c*e);i&&(s=e-s),s<e&&t.call(o._lottie,s,!0)}}))}else setTimeout(n,100)};if(o){let i=!0;o.addEventListener("complete",(()=>{i=!0})),"click"===t?.trigger&&o.addEventListener("click",(()=>{(i||0===o.currentFrame)&&(o.stop(),o.play(),i=!1)})),"scroll"===t?.trigger&&n(),"viewport"===t?.trigger&&new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?o.play():o.pause()}))})).observe(e)}}))}));