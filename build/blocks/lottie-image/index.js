(()=>{var e,o={4637:(e,o,t)=>{"use strict";const r=window.wp.blocks,l=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","title":"Lottie Image","name":"zolo/lottie-image","category":"zoloblocks","keywords":["zolo","lottie","image","animation","video"],"description":"Lightweight Lottie animations for web, apps, and UI.","apiVersion":3,"textdomain":"zoloblocks","example":{"attributes":{"preview":true},"viewportWidth":410},"supports":{"anchor":false,"customClassName":false,"align":["wide","full"]},"editorScript":"file:./index.js","style":"file:./style-index.css","viewScript":"file:./frontend.js"}'),i={globalConfig:{type:"object",default:{margin:{prefix:"mainMargin"},padding:{prefix:"mainPadding"},background:{prefix:"mainBg"},border:{prefix:"mainBorder"},borderRadius:{prefix:"mainBorderRadius"},boxShadow:{prefix:"mainBoxShadow"},responsiveControls:!0}},fileId:{type:"string",default:""},fileURL:{type:"string",default:""},fileWidth:{type:"number"},fileHeight:{type:"number"},direction:{type:"number",default:1},trigger:{type:"string",default:""},loop:{type:"boolean",default:!0},speed:{type:"number",default:1},autoplay:{type:"boolean",default:!0}},n=window.wp.blockEditor,s=window.wp.i18n;var a=t(6942),c=t.n(a);const d=window.wp.element,p=window.wp.compose,u=window.wp.components,b=window.ReactJSXRuntime,{SimpleRangeControl:f,HeaderTabs:g,AdvancedOptions:v,ZoloPanelBody:m}=window.zoloModule,h=function(e){const{attributes:o,setAttributes:t}=e,{fileURL:r,trigger:l,loop:a,direction:c,speed:d,resMode:p}=o,h={attributes:o,setAttributes:t,resMode:p,objAttributes:i};return(0,b.jsx)(n.InspectorControls,{children:(0,b.jsx)(g,{block:"zolo/textarea",attributes:o,setAttributes:t,generalTab:(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(m,{title:(0,s.__)("General","zoloblocks"),firstOpen:!0,panelProps:e,children:r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.SelectControl,{label:(0,s.__)("Animation On","zoloblocks"),help:"scroll"===l?(0,s.__)("This feature is only available on the front end","zoloblocks"):(0,s.__)("Choose the event that triggers the animation to start","zoloblocks"),value:l,options:[{label:(0,s.__)("Page Load","zoloblocks"),value:""},{label:(0,s.__)("Viewport","zoloblocks"),value:"viewport"},{label:(0,s.__)("Hover","zoloblocks"),value:"hover"},{label:(0,s.__)("Click","zoloblocks"),value:"click"},{label:(0,s.__)("Scroll","zoloblocks"),value:"scroll"}],onChange:e=>t({trigger:e})}),"scroll"!==l&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f,{label:(0,s.__)("Speed","zoloblocks"),value:d,onChange:e=>t({speed:e}),onReset:()=>t({speed:void 0}),step:.1,min:0,max:10,noUnits:!0}),(0,b.jsx)(u.ToggleControl,{label:(0,s.__)("Loop","zoloblocks"),checked:!!a,onChange:()=>t({loop:!a})})]}),(0,b.jsx)(u.ToggleControl,{label:(0,s.__)("Reverse","zoloblocks"),checked:-1===c,onChange:()=>{t({direction:1===c?-1:1})}})]})})}),advancedTab:(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(v,{attributes:o,setAttributes:t,requiredProps:h,block:"zolo/lottie-image"})})})},"controls")},{classArrayToStr:w,LottiePreview:k}=window.zoloModule,{classArrayToStr:y,LottiePreview:x}=window.zoloModule,{BlockIcons:_}=window.zoloIcons;(0,r.registerBlockType)(l,{icon:{src:_["advanced-paragraph"]},attributes:i,edit:function(e){const{attributes:o,setAttributes:t,isSelected:r,clientId:l}=e,{uniqueId:i,parentClasses:a,fileURL:f,trigger:g,loop:v,direction:m,speed:y}=o,x=(0,d.useRef)(null),_=(0,d.useRef)(!0),j=(0,n.useBlockProps)({ref:(0,p.useMergeRefs)([x]),className:c()(i,w(a))}),S=e=>{t({fileId:e.id,fileURL:e.url})},z=e=>{t({fileId:void 0,fileURL:e})},O=()=>{t({fileId:void 0,fileURL:void 0})};return(0,d.useEffect)((()=>{const e=x.current?.querySelector("lottie-player"),o="viewport"===g&&new IntersectionObserver((o=>{o.forEach((o=>{o.isIntersecting?e.play():e.pause()}))}));e&&("click"===g&&(e.addEventListener("complete",(()=>{_.current=!0})),x.current.addEventListener("click",(()=>{e.stop(),e.play(),_.current=!1}))),"viewport"===g&&o&&o.observe(x.current))}),[g,v,m,y]),(0,b.jsxs)(b.Fragment,{children:[r&&(0,b.jsx)(h,{attributes:o,setAttributes:t}),f&&(0,b.jsx)(n.BlockControls,{children:(0,b.jsx)(u.ToolbarGroup,{children:(0,b.jsx)(n.MediaUpload,{icon:"format-image",labels:{title:(0,s.__)("Lottie JSON","zoloblocks"),name:(0,s.__)("lottie","zoloblocks"),instructions:(0,s.__)("Upload a JSON file or pick one from your media library.","zoloblocks")},onSelect:S,onSelectURL:z,accept:["application/json"],allowedTypes:["application/json"],onError:O,render:({open:e})=>(0,b.jsx)(u.ToolbarButton,{className:"components-toolbar__control",label:(0,s.__)("Replace Lottie Files","zoloblocks"),icon:"edit",onClick:e})})})}),(0,b.jsx)("div",{...j,children:f?(0,b.jsx)(k,{url:f,trigger:g,speed:y,loop:v,direction:m,isSelected:r},JSON.stringify(`${f}-${v}-${m}-${y}-${g}`)):(0,b.jsx)(n.MediaPlaceholder,{icon:"format-image",labels:{title:(0,s.__)("Lottie JSON","zoloblocks"),name:(0,s.__)("lottie","zoloblocks"),instructions:(0,s.__)("Upload a JSON file or pick one from your media library.","zoloblocks")},onSelect:S,onSelectURL:z,accept:["application/json"],allowedTypes:["application/json"],onError:O})})]})},save:e=>{const{attributes:o}=e,{uniqueId:t,parentClasses:r,fileURL:l,trigger:i,loop:s,direction:a,speed:d,isSelected:p}=o,u={trigger:i},f=n.useBlockProps.save({className:c()(t,y(r)),"data-settings":JSON.stringify(u)});return(0,b.jsx)("div",{...f,children:l&&(0,b.jsx)(x,{url:l,trigger:i,speed:d,loop:s,direction:a,isSelected:!0})})}})},6942:(e,o)=>{var t;!function(){"use strict";var r={}.hasOwnProperty;function l(){for(var e="",o=0;o<arguments.length;o++){var t=arguments[o];t&&(e=n(e,i(t)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return l.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var t in e)r.call(e,t)&&e[t]&&(o=n(o,t));return o}function n(e,o){return o?e?e+" "+o:e+o:e}e.exports?(l.default=l,e.exports=l):void 0===(t=function(){return l}.apply(o,[]))||(e.exports=t)}()}},t={};function r(e){var l=t[e];if(void 0!==l)return l.exports;var i=t[e]={exports:{}};return o[e](i,i.exports,r),i.exports}r.m=o,e=[],r.O=(o,t,l,i)=>{if(!t){var n=1/0;for(d=0;d<e.length;d++){for(var[t,l,i]=e[d],s=!0,a=0;a<t.length;a++)(!1&i||n>=i)&&Object.keys(r.O).every((e=>r.O[e](t[a])))?t.splice(a--,1):(s=!1,i<n&&(n=i));if(s){e.splice(d--,1);var c=l();void 0!==c&&(o=c)}}return o}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[t,l,i]},r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={900:0,2012:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var l,i,[n,s,a]=t,c=0;if(n.some((o=>0!==e[o]))){for(l in s)r.o(s,l)&&(r.m[l]=s[l]);if(a)var d=a(r)}for(o&&o(t);c<n.length;c++)i=n[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},t=globalThis.webpackChunkzoloblocks=globalThis.webpackChunkzoloblocks||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var l=r.O(void 0,[2012],(()=>r(4637)));l=r.O(l)})();