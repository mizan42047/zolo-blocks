(()=>{var e,t={864:(e,t,o)=>{"use strict";const r=window.wp.blocks,l=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","title":"Lottie Image","name":"zolo/lottie-image","category":"zoloblocks","keywords":["zolo","lottie","image","animation","video"],"description":"Lightweight Lottie animations for web, apps, and UI.","apiVersion":3,"textdomain":"zoloblocks","example":{"attributes":{"preview":true},"viewportWidth":410},"supports":{"anchor":false,"customClassName":false,"align":["wide","full"]},"editorScript":"file:./index.js","style":"file:./style-index.css","viewScript":"file:./frontend.js"}'),n={globalConfig:{type:"object",default:{margin:{prefix:"mainMargin"},padding:{prefix:"mainPadding"},background:{prefix:"mainBg"},border:{prefix:"mainBorder"},borderRadius:{prefix:"mainBorderRadius"},boxShadow:{prefix:"mainBoxShadow"},responsiveControls:!0}},fileId:{type:"string",default:""},fileURL:{type:"string",default:""},fileWidth:{type:"number"},fileHeight:{type:"number"},direction:{type:"number",default:1},trigger:{type:"string",default:""},loop:{type:"boolean",default:!0},speed:{type:"number",default:1},autoplay:{type:"boolean",default:!0}},i=window.React,a=window.wp.blockEditor,s=window.wp.i18n;var c=o(6942),p=o.n(c);const d=window.wp.element,u=window.wp.compose,b=window.wp.components,{SimpleRangeControl:f,HeaderTabs:m,AdvancedOptions:g,ZoloPanelBody:v}=window.zoloModule,k=function(e){const{attributes:t,setAttributes:o}=e,{fileURL:r,trigger:l,loop:c,direction:p,speed:d,resMode:u}=t,k={attributes:t,setAttributes:o,resMode:u,objAttributes:n};return(0,i.createElement)(a.InspectorControls,{key:"controls"},(0,i.createElement)(m,{block:"zolo/textarea",attributes:t,setAttributes:o,generalTab:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(v,{title:(0,s.__)("General","zoloblocks"),firstOpen:!0,panelProps:e},r&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(b.SelectControl,{label:(0,s.__)("Animation On","zoloblocks"),help:"scroll"===l?(0,s.__)("This feature is only available on the front end","zoloblocks"):(0,s.__)("Choose the event that triggers the animation to start","zoloblocks"),value:l,options:[{label:(0,s.__)("Page Load","zoloblocks"),value:""},{label:(0,s.__)("Viewport","zoloblocks"),value:"viewport"},{label:(0,s.__)("Hover","zoloblocks"),value:"hover"},{label:(0,s.__)("Click","zoloblocks"),value:"click"},{label:(0,s.__)("Scroll","zoloblocks"),value:"scroll"}],onChange:e=>o({trigger:e})}),"scroll"!==l&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(f,{label:(0,s.__)("Speed","zoloblocks"),value:d,onChange:e=>o({speed:e}),onReset:()=>o({speed:void 0}),step:.1,min:0,max:10,noUnits:!0}),(0,i.createElement)(b.ToggleControl,{label:(0,s.__)("Loop","zoloblocks"),checked:!!c,onChange:()=>o({loop:!c})})),(0,i.createElement)(b.ToggleControl,{label:(0,s.__)("Reverse","zoloblocks"),checked:-1===p,onChange:()=>{o({direction:1===p?-1:1})}})))),advancedTab:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(g,{attributes:t,setAttributes:o,requiredProps:k,block:"zolo/lottie-image"}))}))},{classArrayToStr:w,LottiePreview:y}=window.zoloModule,{classArrayToStr:_,LottiePreview:h}=window.zoloModule,{BlockIcons:z}=window.zoloIcons;(0,r.registerBlockType)(l,{icon:{src:z["advanced-paragraph"]},attributes:n,edit:function(e){const{attributes:t,setAttributes:o,isSelected:r,clientId:l}=e,{uniqueId:n,parentClasses:c,fileURL:f,trigger:m,loop:g,direction:v,speed:_}=t,h=(0,d.useRef)(null),z=(0,d.useRef)(!0),E=(0,a.useBlockProps)({ref:(0,u.useMergeRefs)([h]),className:p()(n,w(c))}),S=e=>{o({fileId:e.id,fileURL:e.url})},O=e=>{o({fileId:void 0,fileURL:e})},x=()=>{o({fileId:void 0,fileURL:void 0})};return(0,d.useEffect)((()=>{const e=h.current?.querySelector("lottie-player"),t="viewport"===m&&new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?e.play():e.pause()}))}));e&&("click"===m&&(e.addEventListener("complete",(()=>{z.current=!0})),h.current.addEventListener("click",(()=>{e.stop(),e.play(),z.current=!1}))),"viewport"===m&&t&&t.observe(h.current))}),[m,g,v,_]),(0,i.createElement)(i.Fragment,null,r&&(0,i.createElement)(k,{attributes:t,setAttributes:o}),f&&(0,i.createElement)(a.BlockControls,null,(0,i.createElement)(b.ToolbarGroup,null,(0,i.createElement)(a.MediaUpload,{icon:"format-image",labels:{title:(0,s.__)("Lottie JSON","zoloblocks"),name:(0,s.__)("lottie","zoloblocks"),instructions:(0,s.__)("Upload a JSON file or pick one from your media library.","zoloblocks")},onSelect:S,onSelectURL:O,accept:["application/json"],allowedTypes:["application/json"],onError:x,render:({open:e})=>(0,i.createElement)(b.ToolbarButton,{className:"components-toolbar__control",label:(0,s.__)("Replace Lottie Files","zoloblocks"),icon:"edit",onClick:e})}))),(0,i.createElement)("div",{...E},f?(0,i.createElement)(y,{key:JSON.stringify(`${f}-${g}-${v}-${_}-${m}`),url:f,trigger:m,speed:_,loop:g,direction:v,isSelected:r}):(0,i.createElement)(a.MediaPlaceholder,{icon:"format-image",labels:{title:(0,s.__)("Lottie JSON","zoloblocks"),name:(0,s.__)("lottie","zoloblocks"),instructions:(0,s.__)("Upload a JSON file or pick one from your media library.","zoloblocks")},onSelect:S,onSelectURL:O,accept:["application/json"],allowedTypes:["application/json"],onError:x})))},save:e=>{const{attributes:t}=e,{uniqueId:o,parentClasses:r,fileURL:l,trigger:n,loop:s,direction:c,speed:d,isSelected:u}=t,b={trigger:n},f=a.useBlockProps.save({className:p()(o,_(r)),"data-settings":JSON.stringify(b)});return(0,i.createElement)("div",{...f},l&&(0,i.createElement)(h,{url:l,trigger:n,speed:d,loop:s,direction:c,isSelected:!0}))}})},6942:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function l(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=i(e,n(o)))}return e}function n(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return l.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)r.call(e,o)&&e[o]&&(t=i(t,o));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(l.default=l,e.exports=l):void 0===(o=function(){return l}.apply(t,[]))||(e.exports=o)}()}},o={};function r(e){var l=o[e];if(void 0!==l)return l.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,o,l,n)=>{if(!o){var i=1/0;for(p=0;p<e.length;p++){o=e[p][0],l=e[p][1],n=e[p][2];for(var a=!0,s=0;s<o.length;s++)(!1&n||i>=n)&&Object.keys(r.O).every((e=>r.O[e](o[s])))?o.splice(s--,1):(a=!1,n<i&&(i=n));if(a){e.splice(p--,1);var c=l();void 0!==c&&(t=c)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[o,l,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={900:0,2012:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var l,n,i=o[0],a=o[1],s=o[2],c=0;if(i.some((t=>0!==e[t]))){for(l in a)r.o(a,l)&&(r.m[l]=a[l]);if(s)var p=s(r)}for(t&&t(o);c<i.length;c++)n=i[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(p)},o=self.webpackChunkzoloblocks=self.webpackChunkzoloblocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=r.O(void 0,[2012],(()=>r(864)));l=r.O(l)})();